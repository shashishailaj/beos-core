#!/usr/bin/python3

# Scenario based on test : [2.9]-Great-all-in-one-test

import os
import sys
import time
import datetime 

currentdir = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(os.path.dirname(currentdir)))
from beos_test_utils.beos_utils_pack import init, ActionResult, ResourceResult, VotersResult

if __name__ == "__main__":
	node, summary, args, log = init(__file__)

	key_acr = node.utils.create_key() 
	key_acg = node.utils.create_key()
	key_acr = node.utils.create_key()
	key_acz = node.utils.create_key()
	key_acu = node.utils.create_key()
	key_acq = node.utils.create_key()
	node.add_producer_to_config("beos.tst.acr", key_acr)
	node.add_producer_to_config("beos.tst.acg", key_acg)
	node.add_producer_to_config("beos.tst.acz", key_acz)
	node.add_producer_to_config("beos.tst.acu", key_acu)
	node.add_producer_to_config("beos.tst.acq", key_acq)

	node.run_node()

	#Changeparams
	#node.changeparams(["0.0000 BTS"], 160, [40,0,280,80,40000000], [40,0,280,80,20000000], 3000000)
	newparams = {
		"beos" : {
			"starting_block" : 40,
			"next_block" : 0, 
			"ending_block" : 280,
			"block_interval" : 80, 
			"trustee_reward" : 40000000
		},
		"ram" : {
			"starting_block" : 40,
			"next_block" : 0, 
			"ending_block" : 280,
			"block_interval" : 80, 
			"trustee_reward" : 20000000 
		},
		"proxy_assets" : [ "0.0000 BTS"],
		"ram_leftover" : 3000000,
		"starting_block_for_initial_witness_election":160
	}
	node.changeparams(newparams)
	
	#Actions
	summary.action_status(node.create_account("beos.tst.acg", _activ_key=key_acg, _owner_key=key_acg) )
	summary.action_status(node.create_account("beos.tst.acr", _activ_key=key_acr, _owner_key=key_acr) )
	summary.action_status(node.create_account("beos.tst.acu", _activ_key=key_acu, _owner_key=key_acu) )
	summary.action_status(node.create_account("beos.tst.acz", _activ_key=key_acz, _owner_key=key_acz) )
	summary.action_status(node.create_account("beos.tst.act") )
	summary.action_status(node.create_account("beos.tst.acv") )
	summary.action_status(node.create_account("beos.tst.acw") )
	summary.action_status(node.create_account("beos.tst.acx") )
	summary.action_status(node.create_account("beos.tst.acy") )
	summary.action_status(node.create_account("beos.tst.ach") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acg",_quantity="30.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acr",_quantity="15.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.act",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acu",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acv",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acw",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acx",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acy",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.regproducer(_producer="beos.tst.acr",_producer_key=key_acr,_url="test.html",_location="0"), ActionResult(False, "transaction net usage is too high: 152 > 0") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acr",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acv",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acz",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.transfer(_from="beos.tst.act",_to="beos.tst.ach",_quantity="5.0000 BTS",_memo="Free muunies"), ActionResult(False, "transaction net usage is too high: 144 > 0") )
	summary.action_status(node.sellram(_account="beos.tst.acx",_bytes="2000"), ActionResult(False, "RAM shouldn't be liquid during distribution period") )
	summary.action_status(node.delegatebw(_from="beos.tst.acw",_receiver="beos.tst.acw",_stake_net_quantity="5.0000 BEOS",_stake_cpu_quantity="5.0000 BEOS",_transfer=False), ActionResult(False, "no balance object found") )
	node.wait_till_block(46)
	summary.user_block_status(node, "beos.tst.acg", ResourceResult(_balance="30.0000 BTS",_net_weight="137670481.1767 BEOS",_cpu_weight="137670481.1767 BEOS",_ram_bytes=2398302948))
	summary.user_block_status(node, "beos.tst.acr", ResourceResult(_balance="20.0000 BTS",_net_weight="91780320.7844 BEOS",_cpu_weight="91780320.7845 BEOS",_ram_bytes=1598870448))
	summary.user_block_status(node, "beos.tst.act", ResourceResult(_balance="10.0000 BTS",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acu", ResourceResult(_balance="10.0000 BTS",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acv", ResourceResult(_balance="10.0000 BTS",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acw", ResourceResult(_balance="5.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acx", ResourceResult(_balance="5.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acy", ResourceResult(_balance="5.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acz", ResourceResult(_balance="5.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.ach", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	node.wait_till_block(50)
	summary.action_status(node.create_account("beos.tst.aci") )
	summary.action_status(node.create_account("beos.tst.acj") )
	summary.action_status(node.create_account("beos.tst.ack") )
	node.wait_till_block(60)
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acg",_quantity="30.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.act",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acx",_quantity="15.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.ach",_quantity="5.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.aci",_quantity="40.0000 BTS",_memo="") )
	summary.action_status(node.transfer(_from="beos.tst.acu",_to="beos.tst.acw",_quantity="10.0000 BTS",_memo="From 4 to 6") )
	node.wait_till_block(80)
	summary.action_status(node.undelegatebw(_from="beos.tst.acx",_receiver="beos.tst.acx",_unstake_net_quantity="11472540.0980 BEOS",_unstake_cpu_quantity="11472540.0980 BEOS"), ActionResult(False, "") )
	summary.action_status(node.regproducer(_producer="beos.tst.acg",_producer_key=key_acg,_url="test.html",_location="0") )
	node.wait_till_block(90)
	summary.action_status(node.transfer(_from="beos.tst.acv",_to="beos.tst.aci",_quantity="30.0000 BTS",_memo="From 5 to 11"), ActionResult(False, "overdrawn balance") )
	summary.action_status(node.transfer(_from="beos.tst.acr",_to="beos.tst.act",_quantity="5.0000 BTS",_memo="From 2 to 3") )
	node.wait_till_block(100)
	summary.action_status(node.transfer(_from="beos.tst.act",_to="beos.tst.acr",_quantity="5.0000 BTS",_memo="From 3 to 2") )
	summary.action_status(node.transfer(_from="beos.tst.acz",_to="beos.tst.acy",_quantity="5.0000 BTS",_memo="From 9 to 8") )
	node.wait_till_block(110)
	summary.user_block_status(node, "beos.tst.acg", ResourceResult(_balance="60.0000 BTS",_net_weight="137670481.1767 BEOS",_cpu_weight="137670481.1767 BEOS",_ram_bytes=2398302948))
	summary.user_block_status(node, "beos.tst.acr", ResourceResult(_balance="20.0000 BTS",_net_weight="91780320.7844 BEOS",_cpu_weight="91780320.7845 BEOS",_ram_bytes=1598870448))
	summary.user_block_status(node, "beos.tst.act", ResourceResult(_balance="20.0000 BTS",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acu", ResourceResult(_balance="",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acv", ResourceResult(_balance="10.0000 BTS",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acw", ResourceResult(_balance="15.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acx", ResourceResult(_balance="20.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acy", ResourceResult(_balance="10.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acz", ResourceResult(_balance="",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.ach", ResourceResult(_balance="5.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.aci", ResourceResult(_balance="40.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acj", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.ack", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	node.wait_till_block(130)
	summary.action_status(node.create_account("beos.tst.acl") )
	summary.action_status(node.create_account("beos.tst.acm") )
	summary.action_status(node.create_account("beos.tst.acn") )
	summary.action_status(node.create_account("beos.tst.aco") )
	summary.action_status(node.create_account("beos.tst.acp") )
	summary.action_status(node.create_account("beos.tst.acq", _activ_key=key_acq, _owner_key=key_acq) )
	summary.action_status(node.create_account("beos.tst.acs") )
	node.wait_till_block(140)
	summary.action_status(node.withdraw(_from="beos.tst.acw",_bts_to="any_account",_quantity="15.0000 BTS",_memo="_memo") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.ach",_quantity="45.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acg",_quantity="40.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acr",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.aci",_quantity="40.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acj",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acl",_quantity="20.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acm",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acn",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.aco",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acp",_quantity="10.0000 BTS",_memo="") )
	summary.action_status(node.issue(_from="beos.gateway",_to="beos.tst.acq",_quantity="10.0000 BTS",_memo="") )
	node.wait_till_block(150)
	summary.action_status(node.transfer(_from="beos.tst.acv",_to="beos.tst.acq",_quantity="10.0000 BTS",_memo="From 5 to 19") )
	summary.action_status(node.transfer(_from="beos.tst.act",_to="beos.tst.aci",_quantity="10.0000 BTS",_memo="From 5 to 11") )
	summary.action_status(node.transfer(_from="beos.tst.acx",_to="beos.tst.aci",_quantity="10.0000 BTS",_memo="From 7 to 11") )
	node.wait_till_block(160)
	summary.action_status(node.regproducer(_producer="beos.tst.acr",_producer_key=key_acr,_url="test.html",_location=0) )
	summary.action_status(node.regproducer(_producer="beos.tst.acz",_producer_key=key_acz,_url="test.html",_location=0) )
	summary.action_status(node.regproducer(_producer="beos.tst.acu",_producer_key=key_acu,_url="test.html",_location=0) )
	node.wait_till_block(170)
	summary.action_status(node.voteproducer(_voter="beos.tst.ach",_proxy="",_producers=['beos.tst.acg']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.acg",_proxy="",_producers=['beos.tst.acg']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.aci",_proxy="",_producers=['beos.tst.acu']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.act",_proxy="",_producers=['beos.tst.acr']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.acv",_proxy="",_producers=['beos.tst.acz']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.acw",_proxy="",_producers=['beos.tst.acz']) )
	node.wait_till_block(180)
	summary.user_block_status(node, "beos.tst.acg", ResourceResult(_balance="100.0000 BTS",_net_weight="275340962.3534 BEOS",_cpu_weight="275340962.3535 BEOS",_ram_bytes=4796600448))
	summary.user_block_status(node, "beos.tst.acr", ResourceResult(_balance="30.0000 BTS",_net_weight="137670481.1766 BEOS",_cpu_weight="137670481.1768 BEOS",_ram_bytes=2398302948))
	summary.user_block_status(node, "beos.tst.act", ResourceResult(_balance="10.0000 BTS",_net_weight="91780320.7844 BEOS",_cpu_weight="91780320.7845 BEOS",_ram_bytes=1598870448))
	summary.user_block_status(node, "beos.tst.acu", ResourceResult(_balance="",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acv", ResourceResult(_balance="",_net_weight="68835240.5883 BEOS",_cpu_weight="68835240.5883 BEOS",_ram_bytes=1199154198))
	summary.user_block_status(node, "beos.tst.acw", ResourceResult(_balance="",_net_weight="57362700.4902 BEOS",_cpu_weight="57362700.4903 BEOS",_ram_bytes=999296073))
	summary.user_block_status(node, "beos.tst.acx", ResourceResult(_balance="10.0000 BTS",_net_weight="68835240.5883 BEOS",_cpu_weight="68835240.5884 BEOS",_ram_bytes=1199154198))
	summary.user_block_status(node, "beos.tst.acy", ResourceResult(_balance="10.0000 BTS",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acz", ResourceResult(_balance="",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.ach", ResourceResult(_balance="50.0000 BTS",_net_weight="11472540.0980 BEOS",_cpu_weight="11472540.0981 BEOS",_ram_bytes=199863573))
	summary.user_block_status(node, "beos.tst.aci", ResourceResult(_balance="100.0000 BTS",_net_weight="91780320.7845 BEOS",_cpu_weight="91780320.7845 BEOS",_ram_bytes=1598870448))
	summary.user_block_status(node, "beos.tst.acj", ResourceResult(_balance="10.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.ack", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acl", ResourceResult(_balance="20.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acm", ResourceResult(_balance="10.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acn", ResourceResult(_balance="10.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.aco", ResourceResult(_balance="10.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acp", ResourceResult(_balance="10.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acq", ResourceResult(_balance="20.0000 BTS",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acs", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	node.wait_till_block(210)
	summary.action_status(node.withdraw(_from="beos.tst.acr",_bts_to="any_account",_quantity="30.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.act",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acx",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acy",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.ach",_bts_to="any_account",_quantity="30.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.aci",_bts_to="any_account",_quantity="100.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acl",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	node.wait_till_block(220)
	summary.action_status(node.regproducer(_producer="beos.tst.acq",_producer_key=key_acq,_url="test.html",_location="0") )
	node.wait_till_block(230)
	summary.action_status(node.voteproducer(_voter="beos.tst.acm",_proxy="",_producers=['beos.tst.acq']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.acn",_proxy="",_producers=['beos.tst.acq']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.aco",_proxy="",_producers=['beos.tst.acq']) )
	summary.action_status(node.voteproducer(_voter="beos.tst.acp",_proxy="",_producers=['beos.tst.acq']) )
	node.wait_till_block(240)
	summary.action_status(node.transfer(_from="beos.tst.acq",_to="beos.tst.acj",_quantity="20.0000 BTS",_memo="From 19 to 12") )
	summary.action_status(node.transfer(_from="beos.tst.ach",_to="beos.tst.acg",_quantity="10.0000 BTS",_memo="From 10 to 1") )
	node.wait_till_block(260)
	summary.user_block_status(node, "beos.tst.acg", ResourceResult(_balance="110.0000 BTS",_net_weight="390066363.3340 BEOS",_cpu_weight="390066363.3342 BEOS",_ram_bytes=6795181698))
	summary.user_block_status(node, "beos.tst.acr", ResourceResult(_balance="",_net_weight="172088101.4707 BEOS",_cpu_weight="172088101.4710 BEOS",_ram_bytes=2997877323))
	summary.user_block_status(node, "beos.tst.act", ResourceResult(_balance="",_net_weight="103252860.8824 BEOS",_cpu_weight="103252860.8826 BEOS",_ram_bytes=1798728573))
	summary.user_block_status(node, "beos.tst.acu", ResourceResult(_balance="",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acv", ResourceResult(_balance="",_net_weight="68835240.5883 BEOS",_cpu_weight="68835240.5883 BEOS",_ram_bytes=1199154198))
	summary.user_block_status(node, "beos.tst.acw", ResourceResult(_balance="",_net_weight="57362700.4902 BEOS",_cpu_weight="57362700.4903 BEOS",_ram_bytes=999296073))
	summary.user_block_status(node, "beos.tst.acx", ResourceResult(_balance="",_net_weight="80307780.6863 BEOS",_cpu_weight="80307780.6865 BEOS",_ram_bytes=1399012323))
	summary.user_block_status(node, "beos.tst.acy", ResourceResult(_balance="",_net_weight="57362700.4902 BEOS",_cpu_weight="57362700.4903 BEOS",_ram_bytes=999296073))
	summary.user_block_status(node, "beos.tst.acz", ResourceResult(_balance="",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.ach", ResourceResult(_balance="10.0000 BTS",_net_weight="68835240.5883 BEOS",_cpu_weight="68835240.5884 BEOS",_ram_bytes=1199154198))
	summary.user_block_status(node, "beos.tst.aci", ResourceResult(_balance="",_net_weight="206505721.7651 BEOS",_cpu_weight="206505721.7652 BEOS",_ram_bytes=3597451698))
	summary.user_block_status(node, "beos.tst.acj", ResourceResult(_balance="30.0000 BTS",_net_weight="11472540.0980 BEOS",_cpu_weight="11472540.0981 BEOS",_ram_bytes=199863573))
	summary.user_block_status(node, "beos.tst.ack", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acl", ResourceResult(_balance="10.0000 BTS",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acm", ResourceResult(_balance="10.0000 BTS",_net_weight="11472540.0980 BEOS",_cpu_weight="11472540.0981 BEOS",_ram_bytes=199863573))
	summary.user_block_status(node, "beos.tst.acn", ResourceResult(_balance="10.0000 BTS",_net_weight="11472540.0980 BEOS",_cpu_weight="11472540.0981 BEOS",_ram_bytes=199863573))
	summary.user_block_status(node, "beos.tst.aco", ResourceResult(_balance="10.0000 BTS",_net_weight="11472540.0980 BEOS",_cpu_weight="11472540.0981 BEOS",_ram_bytes=199863573))
	summary.user_block_status(node, "beos.tst.acp", ResourceResult(_balance="10.0000 BTS",_net_weight="11472540.0980 BEOS",_cpu_weight="11472540.0981 BEOS",_ram_bytes=199863573))
	summary.user_block_status(node, "beos.tst.acq", ResourceResult(_balance="",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acs", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	node.wait_till_block(290)
	summary.action_status(node.withdraw(_from="beos.tst.acg",_bts_to="any_account",_quantity="110.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.ach",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acj",_bts_to="any_account",_quantity="30.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acl",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acm",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acn",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.aco",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	summary.action_status(node.withdraw(_from="beos.tst.acp",_bts_to="any_account",_quantity="10.0000 BTS",_memo="_memo") )
	
	#At end
	summary.user_block_status(node, "beos.tst.acg", ResourceResult(_balance="",_net_weight="642462245.4915 BEOS",_cpu_weight="642462245.4918 BEOS",_ram_bytes=11192060448))
	summary.user_block_status(node, "beos.tst.acr", ResourceResult(_balance="",_net_weight="172088101.4707 BEOS",_cpu_weight="172088101.4710 BEOS",_ram_bytes=2997877323))
	summary.user_block_status(node, "beos.tst.act", ResourceResult(_balance="",_net_weight="103252860.8824 BEOS",_cpu_weight="103252860.8826 BEOS",_ram_bytes=1798728573))
	summary.user_block_status(node, "beos.tst.acu", ResourceResult(_balance="",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acv", ResourceResult(_balance="",_net_weight="68835240.5883 BEOS",_cpu_weight="68835240.5883 BEOS",_ram_bytes=1199154198))
	summary.user_block_status(node, "beos.tst.acw", ResourceResult(_balance="",_net_weight="57362700.4902 BEOS",_cpu_weight="57362700.4903 BEOS",_ram_bytes=999296073))
	summary.user_block_status(node, "beos.tst.acx", ResourceResult(_balance="",_net_weight="80307780.6863 BEOS",_cpu_weight="80307780.6865 BEOS",_ram_bytes=1399012323))
	summary.user_block_status(node, "beos.tst.acy", ResourceResult(_balance="",_net_weight="57362700.4902 BEOS",_cpu_weight="57362700.4903 BEOS",_ram_bytes=999296073))
	summary.user_block_status(node, "beos.tst.acz", ResourceResult(_balance="",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.ach", ResourceResult(_balance="",_net_weight="91780320.7844 BEOS",_cpu_weight="91780320.7845 BEOS",_ram_bytes=1598870448))
	summary.user_block_status(node, "beos.tst.aci", ResourceResult(_balance="",_net_weight="206505721.7651 BEOS",_cpu_weight="206505721.7652 BEOS",_ram_bytes=3597451698))
	summary.user_block_status(node, "beos.tst.acj", ResourceResult(_balance="",_net_weight="80307780.6864 BEOS",_cpu_weight="80307780.6865 BEOS",_ram_bytes=1399012323))
	summary.user_block_status(node, "beos.tst.ack", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))
	summary.user_block_status(node, "beos.tst.acl", ResourceResult(_balance="",_net_weight="45890160.3922 BEOS",_cpu_weight="45890160.3922 BEOS",_ram_bytes=799437948))
	summary.user_block_status(node, "beos.tst.acm", ResourceResult(_balance="",_net_weight="34417620.2941 BEOS",_cpu_weight="34417620.2942 BEOS",_ram_bytes=599579823))
	summary.user_block_status(node, "beos.tst.acn", ResourceResult(_balance="",_net_weight="34417620.2941 BEOS",_cpu_weight="34417620.2942 BEOS",_ram_bytes=599579823))
	summary.user_block_status(node, "beos.tst.aco", ResourceResult(_balance="",_net_weight="34417620.2941 BEOS",_cpu_weight="34417620.2942 BEOS",_ram_bytes=599579823))
	summary.user_block_status(node, "beos.tst.acp", ResourceResult(_balance="",_net_weight="34417620.2941 BEOS",_cpu_weight="34417620.2942 BEOS",_ram_bytes=599579823))
	summary.user_block_status(node, "beos.tst.acq", ResourceResult(_balance="",_net_weight="22945080.1961 BEOS",_cpu_weight="22945080.1961 BEOS",_ram_bytes=399721698))
	summary.user_block_status(node, "beos.tst.acs", ResourceResult(_balance="",_net_weight="0.0000 BEOS",_cpu_weight="0.0000 BEOS",_ram_bytes=5448))

	summary_status = summary.summarize()
	node.stop_node()
	exit(summary_status)